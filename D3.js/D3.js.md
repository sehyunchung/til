# D3.js

## `d3`

d3 는 메서드 체인으로 기능을 세부화 해가도록 만들어져있고, `d3`으로 시작한다.

## `.select()`, `.selectAll()`

이름에서 알수있듯 html 요소 선택자이고, 예상대로 `querySelector()`와 비슷하게 동작하는데 반환값은 배열이고 여러 함수들이 따라온다.

## `.data()`

인수로 데이터 객체/배열 등을 받아 `d3`에 바인딩해준다.

## `.attr()`

받은 data 값을 순회하면서 어트리뷰트 이름을 첫번째 인수, 적용할 값 혹은 함수를 두번째 인수로 받아 해당 어트리뷰트 값으로 지정하는 함수.

아래는 간단한 bar chart 예제이다.

```html
<svg>
  <rect />
  <rect />
  <rect />
  <rect />
  <rect />
</svg>
<script>
  const rectWidth = 100;
  const height = 300;
  const data = [100, 250, 175, 200, 120];

  d3.selectAll('rect')                   // rect svg 요소를 모두 가져옴
    .data(data)                          // 가져온 rect에 data 를 1:1 바인딩 함
    .attr('x', (d, i) => i * rectWidth)  // 순회중인 rect의 x 기준점을 data의 index * rectWidth로 지정하고,
    .attr('y', d => height - d)          // 순회중인 rect의 y 기준점을 height - data 값으로 지정하고(y 값은 위에서 아래로 이기 때문),
    .attr('width', rectWidth)            // 순회중인 rect의 width를 지정하고,
    .attr('height', d => d)              // 순회중인 rect의 height를 data의 값으로 지정하고,
    .attr('fill', 'blue')                // 순회중인 rect의 fill값을 blue로 지정하고,
    .attr('stroke', '#fff')              // 순회중인 rect의 stroke값을 #fff로 지정함.
</script>
```

위 코드로 아래와 같은 결과를 얻게 된다.

<img src="1stBarChart.png">
